

<!DOCTYPE html>
<html>
  <head>
    <title>
	文法 :: テックまとめ
</title>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2021-07-05T21:58:56 JST">
<meta name="description" content="備忘録用メモサイト">



<title>文法 :: テックまとめ</title>

<link rel="shortcut icon" href='/images/favicon.png' type="image/x-icon" />

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css">

<script src='https://code.jquery.com/jquery-3.5.1.min.js'></script>

<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel="stylesheet">



<link rel="stylesheet" type="text/css" href='https://tanakakns.github.io/sass/layout.css'>
<link rel="stylesheet" type="text/css" href='https://tanakakns.github.io/css/style.main.css'>
<link rel="stylesheet" type="text/css" href='https://tanakakns.github.io/css/style.menu.css'>
<link rel="stylesheet" type="text/css" href='https://tanakakns.github.io/sass/shortcodes/notice.css'>
<link rel="stylesheet" type="text/css" href='https://tanakakns.github.io/sass/shortcodes/tabs.css'>
<link rel="stylesheet" type="text/css" href='https://tanakakns.github.io/sass/shortcodes/panel.css'>
<link rel="stylesheet" type="text/css" href='https://tanakakns.github.io/sass/shortcodes/columns.css'>
<link rel="stylesheet" type="text/css" href='https://tanakakns.github.io/sass/shortcodes/children.css'>
<link rel="stylesheet" type="text/css" href='https://tanakakns.github.io/sass/shortcodes/attachments.css'>
<link rel="stylesheet" type="text/css" href='https://tanakakns.github.io/sass/shortcodes/alert.css'>
<link rel="stylesheet" type="text/css" href='/css/docport.css'>

<script src='/js/docport.js'></script>
<script type="text/javascript">
      var baseurl = "https:\/\/tanakakns.github.io\/";
</script>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-42388425-3', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
  </head>

  <body data-url="/go/grammar/"

  class="hidetoc hidenextpage ">

<style type="text/css">
  #debug{
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    line-height: 3.5rem;
    margin-bottom: .35rem;
    padding: 0 2rem;
    position: fixed;
    left: 0;      right: 0;     top: 0;
   
    top:0px;
    
    min-height: 150px;

    background-color: white;
    border: 3px solid red;
    z-index: 10000 ;
    word-wrap: all;
    overflow: auto;
  }
</style>
 


    
    
    <header style="">
        <div>
    
    <div class="burger ">
        <a href="javascript:void(0);" style="font-size:15px;" onclick="$('article > aside').toggleClass('responsive')">&#9776;</a>
    </div>
    

    <div>

		
	
			
		
	    	<a class='baselink' href='https://tanakakns.github.io/'>テックまとめ</a>
	  	
	</div>

</div>
    </header>
    

    <article>
      
      <aside class="">
        

		
	
			
		
	    	
	  	
	<div id="close_menu">
  <a href="javascript:void(0);" style="font-size:15px;" onclick="$('article > aside').toggleClass('responsive')">
      <i class="fa fa-lg fa-times"></i>
  </a>
</div>

<ul class="menu">

    <li data-nav-id="https://tanakakns.github.io/design/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="/design/">設計</a>
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/design/architecture/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/design/architecture/">アーキテクチャ</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://tanakakns.github.io/mac/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="/mac/">Mac開発環境</a>
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/mac/os-settings/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/mac/os-settings/">OSの設定</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/mac/homebrew/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/mac/homebrew/">Homebrew</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/mac/asdf/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/mac/asdf/">asdf</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://tanakakns.github.io/git/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="/git/">Git</a>
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/git/initial-setting/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/git/initial-setting/">初期設定</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://tanakakns.github.io/go/" class="dd-item parent haschildren
        item_level_$level
        ">

      
      
      
      
          <i class="fas fa-chevron-down ddexp"></i>
        
      
          <a href="/go/">Go言語</a>
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/go/initial-setting/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/go/initial-setting/">初期設定</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/go/grammar/" class="dd-item parent active
        item_level_$level
        ">

      
      
      
      
          <a href="/go/grammar/">文法</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/go/naming/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/go/naming/">命名規則</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/go/pattern/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/go/pattern/">パターン</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://tanakakns.github.io/database/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="/database/">Database</a>
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/database/rdb/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/database/rdb/">RDB</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://tanakakns.github.io/aws/" class="dd-item
        item_level_$level
        ">

      
      
      
      
        
      
          <a href="/aws/">AWS</a>
      
    </li>
    

    <li data-nav-id="https://tanakakns.github.io/gcp/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="/gcp/">GCP</a>
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/gcp-aws/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/gcp-aws/">GCP と AWS の比較</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/monitoring/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/monitoring/">監視</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/tools/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/tools/">ツール</a>
      <i class="fas fa-chevron-right ddexp"></i>
        
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/tools/management-tools/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/tools/management-tools/">管理ツール</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/tools/dev-tools/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/tools/dev-tools/">開発ツール</a>
      
        
      
    </li>
        </ul>
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/access-control-and-security/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/access-control-and-security/">アクセス制御とセキュリティ</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/computing-hosting/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/computing-hosting/">コンピューティングとホスティング</a>
      <i class="fas fa-chevron-right ddexp"></i>
        
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/computing-hosting/compute-engine/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/computing-hosting/compute-engine/">Compute Engine</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/computing-hosting/kubernetes-engine/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/computing-hosting/kubernetes-engine/">Google Kubernetes Engine</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/computing-hosting/app-engine/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/computing-hosting/app-engine/">App Engine</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/computing-hosting/cloud-functions/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/computing-hosting/cloud-functions/">Cloud Functions</a>
      
        
      
    </li>
        </ul>
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/storage/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/storage/">ストレージ</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/databases/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/databases/">データベース</a>
      <i class="fas fa-chevron-right ddexp"></i>
        
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/databases/bigquery/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/databases/bigquery/">BigQuery</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/databases/sql/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/databases/sql/">Cloud SQL</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/databases/memorystore/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/databases/memorystore/">Memorystore</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/databases/spanner/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/databases/spanner/">Cloud Spanner</a>
      
        
      
    </li>
        </ul>
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/networking/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/networking/">ネットワーキング</a>
      <i class="fas fa-chevron-right ddexp"></i>
        
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/networking/vpc/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/networking/vpc/">VPC</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/networking/load-balancing/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/networking/load-balancing/">Cloud Load Balancing</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/networking/iap/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/networking/iap/">Identity-Aware Proxy</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/networking/interconnect/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/networking/interconnect/">Cloud Interconnect</a>
      
        
      
    </li>
        </ul>
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/big-data/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/big-data/">ビッグデータ</a>
      <i class="fas fa-chevron-right ddexp"></i>
        
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/big-data/pubsub/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/big-data/pubsub/">Cloud Pub/Sub</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/big-data/dataflow/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/big-data/dataflow/">Dataflow</a>
      
        
      
    </li>
        </ul>
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/gcp/machine-learning/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/gcp/machine-learning/">機械学習</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://tanakakns.github.io/terraform/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="/terraform/">Terraform</a>
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/terraform/basic/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/terraform/basic/">入門</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://tanakakns.github.io/docker/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="/docker/">Docker</a>
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/docker/basic/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/docker/basic/">入門</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://tanakakns.github.io/kubernetes/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="/kubernetes/">Kubernetes</a>
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/kubernetes/concept/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/kubernetes/concept/">概念整理</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/kubernetes/architecture/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/kubernetes/architecture/">アーキテクチャ</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/kubernetes/kubectl-plugin/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/kubernetes/kubectl-plugin/">kubectl plugin と Krew</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/kubernetes/command/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/kubernetes/command/">コマンド</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/kubernetes/manifest/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/kubernetes/manifest/">マニフェスト</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/kubernetes/administration/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/kubernetes/administration/">クラスタ管理</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://tanakakns.github.io/istio/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="/istio/">Istio</a>
      
        <ul>
              

    <li data-nav-id="https://tanakakns.github.io/istio/basic/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/istio/basic/">入門</a>
      
        
      
    </li>
              

    <li data-nav-id="https://tanakakns.github.io/istio/concept/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/istio/concept/">概念整理</a>
      
        
      
    </li>
        </ul>
    </li>
    



</ul>

		
	
			
		
	    	
	  	
	
      </aside>
      

      <section class="page ">
      
	
		
    
    
    <nav id="ariane" aria-label="breadcrumb">
      <ol class="ariane">
        
  
  	
		
  
  	
	<li >
      <a class="text-link" href="https://tanakakns.github.io/">
        
      </a>
    </li>
	
  
    <li class="">
      <a class="text-link" href="/go/">
        Go言語
      </a>
    </li>
	
  	
  
    <li class="active">
      
        文法
      
    </li>

      </ol>
    </nav>
    
    

    
		
        
		
		
		
		
		
		
		

		
			<h1>文法</h1>
        

		
										
		

		
	

	
	
	






	<div class="content">
	    <p>基本文法についてメモる。</p>
<ol>
<li><a href="#1-%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8">パッケージ</a></li>
<li><a href="#2-%E9%96%A2%E6%95%B0">関数</a></li>
<li><a href="#3-%E5%A4%89%E6%95%B0">変数</a></li>
<li><a href="#4-%E3%83%AB%E3%83%BC%E3%83%97">ループ</a></li>
<li><a href="#5-%E6%9D%A1%E4%BB%B6%E5%88%86%E5%B2%90">条件分岐</a></li>
<li><a href="#6-%E9%85%8D%E5%88%97%E3%81%A8%E3%82%B9%E3%83%A9%E3%82%A4%E3%82%B9">配列とスライス</a></li>
<li><a href="#7-map">map</a></li>
<li><a href="#8-%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF">ポインタ</a></li>
<li><a href="#9-%E6%A7%8B%E9%80%A0%E4%BD%93">構造体</a></li>
<li><a href="#10-%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9">インターフェース</a></li>
<li><a href="#11-%E5%9E%8B">型</a></li>
<li><a href="#12-%E4%B8%A6%E5%88%97%E5%87%A6%E7%90%86">並列処理</a></li>
<li><a href="#13-%E5%9F%8B%E3%82%81%E8%BE%BC%E3%81%BF">埋め込み</a></li>
</ol>
<p><a href="https://go-tour-jp.appspot.com/list">A Tour of Go</a>を一通りやるといい。<br>
とりあえず、こんにちは世界。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Hello, 世界&#34;</span>)
}
</code></pre></div><p><a href="https://ideone.com/vPpbZ5">ideone.com</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-zsh" data-lang="zsh">% go run hello.go
Hello, 世界
</code></pre></div><p>なお、<a href="https://play.golang.org/">The Go Playground</a> というサービスを使うと Web でお試し実行できる。<br>
以降は、<a href="https://go-tour-jp.appspot.com/list">A Tour of Go</a> を読みつつも、<strong>自分向けに</strong> 補足したり省略したりしてまとめたもの。</p>
<h2 ref="1-パッケージ" >1. パッケージ</h2><a class="anchor" id="1-パッケージ"></a>
<h3 ref="11-インポート" >1.1. インポート</h3><a class="anchor" id="11-インポート"></a>
<p>標準パッケージのインポートは以下。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;math/rand&#34;</span>
)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>
<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;math&#34;</span>
</code></pre></div><p>インポートしたら <code>fmt.Println</code> のようなインポート名、 <code>rand.Intn(100)</code> のような一番後ろのパッケージ名で使用できる。<br>
また、インポート名を変更もできる。（ <code>f.Println</code> ）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> (
	<span style="color:#a6e22e">f</span> <span style="color:#e6db74">&#34;fmt&#34;</span>
)
</code></pre></div><p>また、独自や OSS ライブラリのインポートは Go modules を利用する場合は <code>${GOPATH}/packages/pkg/mod</code> 、しない場合は <code>${GOPATH}/src</code> からのパスを指定する。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> (
    <span style="color:#e6db74">&#34;github.com/spf13/cobra&#34;</span>
)
</code></pre></div><h3 ref="12-パッケージ外からの参照" >1.2. パッケージ外からの参照</h3><a class="anchor" id="12-パッケージ外からの参照"></a>
<p>Go では、最初の文字が <strong>大文字で始まる名前</strong> の変数・関数は、外部のパッケージから参照できる公開された名前( <strong>exported name</strong> )。<br>
例えば、 <code>Pi</code> は <code>math</code> パッケージでエクスポートされている。<br>
<code>pi</code> （小文字）ではないことに注意。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;math&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#75715e">//fmt.Println(math.pi)  // Error になる
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Pi</span>)
}
</code></pre></div><h2 ref="2-関数" >2. 関数</h2><a class="anchor" id="2-関数"></a>
<h3 ref="21-宣言" >2.1. 宣言</h3><a class="anchor" id="21-宣言"></a>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#75715e">// func add(x , y int) int { // 引数の型定義、省略可能
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">x</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">y</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">add</span>(<span style="color:#ae81ff">42</span>, <span style="color:#ae81ff">13</span>))
	
	<span style="color:#75715e">// 関数も値として扱える
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">sub</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">y</span>
	}
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">sub</span>(<span style="color:#ae81ff">42</span>, <span style="color:#ae81ff">13</span>))
	
	<span style="color:#75715e">// 即時関数
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">y</span>
	}(<span style="color:#ae81ff">42</span>, <span style="color:#ae81ff">13</span>)
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">v</span>)
}
</code></pre></div><h3 ref="22-複数の-return" >2.2. 複数の return</h3><a class="anchor" id="22-複数の-return"></a>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">swap</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">string</span>) (<span style="color:#66d9ef">string</span>, <span style="color:#66d9ef">string</span>) {
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">y</span>, <span style="color:#a6e22e">x</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">swap</span>(<span style="color:#e6db74">&#34;hello&#34;</span>, <span style="color:#e6db74">&#34;world&#34;</span>)
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>)
}
</code></pre></div><h3 ref="23-return-の変数名" >2.3. return の変数名</h3><a class="anchor" id="23-return-の変数名"></a>
<p>返り値となる変数に名前をつけることができる。<br>
そして、 <code>return</code> と書くだけでよくなる。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">split</span>(<span style="color:#a6e22e">sum</span> <span style="color:#66d9ef">int</span>) (<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>) {
	<span style="color:#a6e22e">x</span> = <span style="color:#a6e22e">sum</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">9</span>
	<span style="color:#a6e22e">y</span> = <span style="color:#a6e22e">sum</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">x</span>
	<span style="color:#66d9ef">return</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">split</span>(<span style="color:#ae81ff">17</span>))
}
</code></pre></div><h3 ref="24-クロージャ" >2.4. クロージャ</h3><a class="anchor" id="24-クロージャ"></a>
<p>Go の関数は <strong>クロージャ</strong> （関数オブジェクトの一種）。<br>
関数の引数として渡したり、遅延実行させたりできる。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">adder</span>() <span style="color:#66d9ef">func</span>(<span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#a6e22e">sum</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
	<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">x</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
		<span style="color:#a6e22e">sum</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">x</span>
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">sum</span>
	}
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">pos</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">adder</span>() <span style="color:#75715e">// 無名関数をオブジェクトとして受け取る
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#ae81ff">5</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
		<span style="color:#75715e">// 関数オブジェクト内で sum が保持されているので
</span><span style="color:#75715e"></span>		<span style="color:#75715e">// 呼び出す度に加算されていく
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">pos</span>(<span style="color:#a6e22e">i</span>))
	}
}
<span style="color:#75715e">// 0
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 3
</span><span style="color:#75715e">// 6
</span><span style="color:#75715e">// 10
</span></code></pre></div><h3 ref="25-defer" >2.5. defer</h3><a class="anchor" id="25-defer"></a>
<p><code>defer</code> ステートメントは、 <code>defer</code> へ渡した関数の実行を、呼び出し元の関数の終わり( <code>return</code> 後)まで遅延させる。<br>
<code>defer</code> へ渡した関数の引数は、すぐに評価されるが、その関数自体は呼び出し元の関数が <code>return</code> するまで実行されない。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;world&#34;</span>) <span style="color:#75715e">// main 関数の終わりまで実行が遅延される
</span><span style="color:#75715e"></span>
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;hello&#34;</span>)
}
<span style="color:#75715e">// hello
</span><span style="color:#75715e">// world
</span><span style="color:#75715e">// と出力される
</span></code></pre></div><p><code>defer</code> が複数ある場合、その呼び出しはスタックされ、 LIFO の順番で実行される。（後から順に実行される）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;counting&#34;</span>)

	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#ae81ff">10</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
		<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">i</span>)
	}

	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;done&#34;</span>)
}
<span style="color:#75715e">// counting
</span><span style="color:#75715e">// done
</span><span style="color:#75715e">// 9
</span><span style="color:#75715e">// 8
</span><span style="color:#75715e">// 7
</span><span style="color:#75715e">// 6
</span><span style="color:#75715e">// 5
</span><span style="color:#75715e">// 4
</span><span style="color:#75715e">// 3
</span><span style="color:#75715e">// 2
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 0
</span></code></pre></div><p><code>defer</code> は <code>panic</code> の <code>recover</code> によく用いられる。（ Java で言う <code>try-catch</code> 的な）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
    <span style="color:#e6db74">&#34;fmt&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">hoge</span>() {
    <span style="color:#66d9ef">defer</span> <span style="color:#66d9ef">func</span>() {
        <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> recover()
        <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
            <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Recover!:&#34;</span>, <span style="color:#a6e22e">err</span>)
        }
    }()
    panic(<span style="color:#e6db74">&#34;Panic!&#34;</span>)
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#a6e22e">hoge</span>()
}
</code></pre></div><p><code>panic</code> は Java でいう <code>Runtime Exception</code> 。
エラーハンドリングでは使っちゃダメ。 <code>Error</code> インターフェースを使おう。</p>
<ul>
<li><a href="https://qiita.com/nayuneko/items/3c0b3c0de9e8b27c9548">https://qiita.com/nayuneko/items/3c0b3c0de9e8b27c9548</a></li>
</ul>
<h2 ref="3-変数" >3. 変数</h2><a class="anchor" id="3-変数"></a>
<h3 ref="31-宣言" >3.1. 宣言</h3><a class="anchor" id="31-宣言"></a>
<p><code>var</code> は <strong>変数宣言</strong> 。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">python</span>, <span style="color:#a6e22e">java</span> <span style="color:#66d9ef">bool</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">python</span>, <span style="color:#a6e22e">java</span>)
}
</code></pre></div><p>初期化子が与えられている場合、型を省略できる。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">j</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">python</span>, <span style="color:#a6e22e">java</span> = <span style="color:#66d9ef">true</span>, <span style="color:#66d9ef">false</span>, <span style="color:#e6db74">&#34;no!&#34;</span>
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">j</span>, <span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">python</span>, <span style="color:#a6e22e">java</span>)
}
</code></pre></div><p>関数の中では、 <code>var</code> 宣言の代わりに、短い <code>:=</code> の代入文を使い、暗黙的な型宣言ができる。<br>
この場合、変数の型は右側の変数から型推論される。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">42</span>           <span style="color:#75715e">// int
</span><span style="color:#75715e"></span><span style="color:#a6e22e">f</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">3.142</span>        <span style="color:#75715e">// float64
</span><span style="color:#75715e"></span><span style="color:#a6e22e">g</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0.867</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">0.5i</span> <span style="color:#75715e">// complex128
</span></code></pre></div><p>関数の外では、キーワードではじまる宣言( <code>var</code> , <code>func</code> など)が必要で、 <code>:=</code> での暗黙的な宣言は利用できない。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">j</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>
	<span style="color:#a6e22e">k</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">3</span>
	<span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">python</span>, <span style="color:#a6e22e">java</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">true</span>, <span style="color:#66d9ef">false</span>, <span style="color:#e6db74">&#34;no!&#34;</span>

	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">j</span>, <span style="color:#a6e22e">k</span>, <span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">python</span>, <span style="color:#a6e22e">java</span>)
}
</code></pre></div><h3 ref="32-基本型" >3.2. 基本型</h3><a class="anchor" id="32-基本型"></a>
<ul>
<li><code>bool</code></li>
<li><code>string</code></li>
<li><code>int</code> 、 <code>int8</code> 、 <code>int16</code> 、 <code>int32</code> 、 <code>int64</code></li>
<li><code>uint</code> 、 <code>uint8</code> 、 <code>uint16</code> 、 <code>uint32</code> 、 <code>uint64</code> 、 <code>uintptr</code></li>
<li><code>byte</code>
<ul>
<li><code>uint8</code> の別名</li>
</ul>
</li>
<li><code>rune</code>
<ul>
<li><code>int32</code> の別名</li>
<li>Unicode のコードポイントを表す</li>
<li>rune とは古代文字を表す言葉( runes )、 Go では文字そのものを表すためにruneという言葉を使う</li>
</ul>
</li>
<li><code>float32</code> 、 <code>float64</code></li>
<li><code>complex64</code> 、 <code>complex128</code></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;math/cmplx&#34;</span>
)

<span style="color:#66d9ef">var</span> (
	<span style="color:#a6e22e">ToBe</span>   <span style="color:#66d9ef">bool</span>       = <span style="color:#66d9ef">false</span>
	<span style="color:#a6e22e">MaxInt</span> <span style="color:#66d9ef">uint64</span>     = <span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">64</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
	<span style="color:#a6e22e">z</span>      <span style="color:#66d9ef">complex128</span> = <span style="color:#a6e22e">cmplx</span>.<span style="color:#a6e22e">Sqrt</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">5</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">12i</span>)
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Type: %T Value: %v\n&#34;</span>, <span style="color:#a6e22e">ToBe</span>, <span style="color:#a6e22e">ToBe</span>)
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Type: %T Value: %v\n&#34;</span>, <span style="color:#a6e22e">MaxInt</span>, <span style="color:#a6e22e">MaxInt</span>)
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Type: %T Value: %v\n&#34;</span>, <span style="color:#a6e22e">z</span>, <span style="color:#a6e22e">z</span>)
}
</code></pre></div><p><code>int</code> や <code>uint</code> は OS や CPU などの実装系に依存して、 <code>int32</code> になったり <code>int64</code> になったりする。</p>
<table>
<thead>
<tr>
<th style="text-align:left">型</th>
<th style="text-align:left">サイズ(bit)</th>
<th style="text-align:left">符号</th>
<th style="text-align:left">最小値</th>
<th style="text-align:left">最大値</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">int8</td>
<td style="text-align:left">8</td>
<td style="text-align:left">あり</td>
<td style="text-align:left">-128</td>
<td style="text-align:left">127</td>
</tr>
<tr>
<td style="text-align:left">int16</td>
<td style="text-align:left">16</td>
<td style="text-align:left">あり</td>
<td style="text-align:left">-32768</td>
<td style="text-align:left">32767</td>
</tr>
<tr>
<td style="text-align:left">int32</td>
<td style="text-align:left">32</td>
<td style="text-align:left">あり</td>
<td style="text-align:left">-2147483648</td>
<td style="text-align:left">2147483647</td>
</tr>
<tr>
<td style="text-align:left">int64</td>
<td style="text-align:left">64</td>
<td style="text-align:left">あり</td>
<td style="text-align:left">-9223372036854775808</td>
<td style="text-align:left">9223372036854775807</td>
</tr>
<tr>
<td style="text-align:left">uint8(byte)</td>
<td style="text-align:left">8</td>
<td style="text-align:left">なし</td>
<td style="text-align:left">0</td>
<td style="text-align:left">255</td>
</tr>
<tr>
<td style="text-align:left">uint16</td>
<td style="text-align:left">16</td>
<td style="text-align:left">なし</td>
<td style="text-align:left">0</td>
<td style="text-align:left">65535</td>
</tr>
<tr>
<td style="text-align:left">uint32</td>
<td style="text-align:left">32</td>
<td style="text-align:left">なし</td>
<td style="text-align:left">0</td>
<td style="text-align:left">4294967295</td>
</tr>
<tr>
<td style="text-align:left">uint64</td>
<td style="text-align:left">64</td>
<td style="text-align:left">なし</td>
<td style="text-align:left">0</td>
<td style="text-align:left">18446744073709551615</td>
</tr>
</tbody>
</table>
<p>また、 Go の小数は浮動小数点数の <code>float32</code> 、 <code>float64</code> 、 <code>math.BitFloat</code> が用意されてりるが、 <code>float</code> や固定小数点数は存在しない。</p>
<h3 ref="33-ゼロ値" >3.3. ゼロ値</h3><a class="anchor" id="33-ゼロ値"></a>
<p>変数に初期値を与えずに宣言すると、ゼロ値( <strong>zero value</strong> )が与えられる。<br>
ゼロ値は型によって以下のように与えられる。</p>
<ul>
<li>数値型(int,floatなど): 0</li>
<li>bool型: false</li>
<li>string型: &quot;&quot; (空文字列( empty string ))</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">f</span> <span style="color:#66d9ef">float64</span>
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#66d9ef">bool</span>
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#66d9ef">string</span>
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%v %v %v %q\n&#34;</span>, <span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">f</span>, <span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">s</span>) <span style="color:#75715e">// 0 0 false &#34;&#34;
</span><span style="color:#75715e"></span>}
</code></pre></div><h3 ref="34-型変換" >3.4. 型変換</h3><a class="anchor" id="34-型変換"></a>
<p>従来の <strong>キャスト</strong> とほぼ同じ。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">42</span>
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">f</span> <span style="color:#66d9ef">float64</span> = float64(<span style="color:#a6e22e">i</span>)
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">u</span> <span style="color:#66d9ef">uint</span> = uint(<span style="color:#a6e22e">f</span>)
</code></pre></div><p>ただし、C言語とは異なり、Goでの型変換は <strong>明示的な変換が必要</strong> 。</p>
<h3 ref="35-定数型" >3.5. 定数型</h3><a class="anchor" id="35-定数型"></a>
<p>定数は、 <code>const</code> キーワードを使って変数と同じように宣言。<br>
定数は、文字(character)、文字列(string)、boolean、数値(numeric)のみで使える。<br>
なお、定数は <code>:=</code> を使って宣言できない。</p>
<h3 ref="36-スコープとブロック" >3.6. スコープとブロック</h3><a class="anchor" id="36-スコープとブロック"></a>
<p>Go の <strong>スコープ</strong> は「 <em>変数の宣言以降、宣言したブロックの終端まで</em> 」。<br>
そして、 <strong>ブロック</strong> で最もわかりやすいのは、記号 <code>{</code> &hellip; <code>}</code> でくくられたステートメント群のこと。そして、これを <strong>明示的ブロック</strong> と言う。<br>
この明示的ブロックは唐突に記載することもできる。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	{ <span style="color:#75715e">// 唐突に明示的ブロック、でも動く
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">s</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;Hello, World!&#34;</span>
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s</span>)
	}
	<span style="color:#75715e">// fmt.Println(s) // &lt;-スコープ外のためコンパイルエラー
</span><span style="color:#75715e"></span>}
<span style="color:#75715e">// 標準出力
</span><span style="color:#75715e">// Hello, World!
</span></code></pre></div><p>明示的ブロックに対して <strong>暗黙のブロック</strong> というものもあり、それは以下の 5 つ。</p>
<ol>
<li>ユニバースブロック: 全てのGoのソースコードの外側を包んでいる仮想的なブロック</li>
<li>パッケージブロック: 1パッケージ内の全ソースコードを包含するブロック</li>
<li>ファイルブロック: 1ファイル内の全ソースコードを包含するブロック</li>
<li><code>if</code>, <code>for</code>, <code>switch</code> ブロック: <code>if</code>, <code>for</code>, <code>switch</code> 文それ自体がブロックとなる</li>
<li><code>switch</code>, <code>select</code> における節ブロック: <code>case</code> 節や <code>default</code> 節自体がブロックとなる</li>
</ol>
<p>なお、暗黙のブロックは、記号 <code>{</code> &hellip; <code>}</code> に関係なくスコープを形成する。<br>
例えば以下は、「 <code>if</code> から <code>}</code> まで」が暗黙のブロックで、「 <code>{</code> から <code>}</code> まで」が明示的ブロックとなる。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// if から } までが1個のブロック
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">x</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> {
    <span style="color:#75715e">// { から } まで はさらにもう1個のブロック
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span> <span style="color:#66d9ef">int</span>
    println(<span style="color:#a6e22e">x</span>) <span style="color:#75715e">// =&gt; 0
</span><span style="color:#75715e"></span>}
</code></pre></div><p><code>swtich</code> 文中の <code>case</code> 節や <code>default</code> 節は暗黙プロックの <strong>節ブロック</strong> で、 <code>{</code> &hellip; <code>}</code> を書いてなくてもブロックを構成する。<br>
以下は、 <code>case</code> 節と <code>default</code> 節は別々のブロックなので、識別子 <code>x</code> をそれぞれ独自に宣言することができる。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">	<span style="color:#66d9ef">switch</span> <span style="color:#e6db74">&#34;foo&#34;</span> {
	<span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;a&#34;</span>:
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">1</span>
		println(<span style="color:#a6e22e">x</span>)
	<span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;b&#34;</span>:
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">2.0</span>
		println(<span style="color:#a6e22e">x</span>)
	<span style="color:#66d9ef">default</span>:
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span> <span style="color:#66d9ef">string</span> = <span style="color:#e6db74">&#34;3&#34;</span>
		println(<span style="color:#a6e22e">x</span>)
	}
</code></pre></div><p>なお、同名の識別子の場合は最も直近の狭いスコープが優先される。<br>
例えば以下はファイルブロックと <code>main</code> 関数ブロックにそれぞれ識別子 <code>global</code> があるが、 <code>main</code> 関数 2 行目に <code>:=</code> が利用されているため新たに識別子 <code>global</code> を宣言していることになりファイルブロックの <code>global</code> とは異なる。<br>
その結果、ファイルスコープの <code>global</code> ではなく、 <code>main</code> 関数ブロックの <code>global</code> の値が標準出力される。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">global</span> <span style="color:#66d9ef">string</span> <span style="color:#75715e">// スコープはファイルブロック
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>(){
    <span style="color:#a6e22e">global</span> = <span style="color:#e6db74">&#34;initial state&#34;</span>
    <span style="color:#a6e22e">global</span> ,<span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">double</span>() <span style="color:#75715e">// global のスコープは main 関数
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span>{}
    <span style="color:#a6e22e">mistake</span>()
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">global</span>)
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">double</span>()(<span style="color:#66d9ef">string</span>,<span style="color:#66d9ef">error</span>){
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;double&#34;</span>,<span style="color:#66d9ef">nil</span>
}
<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">mistake</span>(){
    <span style="color:#a6e22e">global</span> = <span style="color:#e6db74">&#34;mistake&#34;</span> <span style="color:#75715e">// ファイルブロックスコープの global
</span><span style="color:#75715e"></span>}
<span style="color:#75715e">// 標準出力
</span><span style="color:#75715e">// double
</span></code></pre></div><h2 ref="4-ループ" >4. ループ</h2><a class="anchor" id="4-ループ"></a>
<h3 ref="41-繰り返し-for" >4.1. 繰り返し for</h3><a class="anchor" id="41-繰り返し-for"></a>
<p>所謂 <code>for</code> ループ。Go に <code>while</code> はない。<br>
他言語とは異なり、 for ステートメントの3つの部分を括る括弧 <code>( )</code> はない。なお、中括弧 <code>{ }</code> は必要。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">sum</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#ae81ff">10</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
		<span style="color:#a6e22e">sum</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">i</span>
	}
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">sum</span>)
}
</code></pre></div><h3 ref="42-while-っぽい-for" >4.2. while っぽい for</h3><a class="anchor" id="42-while-っぽい-for"></a>
<p><code>for </code> はセミコロン( <code>;</code> )を省略することもできる。<br>
つまり、C言語などにある <code>while</code> は、Goでは <code>for</code> だけを使う。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">sum</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">sum</span> &lt; <span style="color:#ae81ff">1000</span> {
		<span style="color:#a6e22e">sum</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">sum</span>
	}
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">sum</span>)
}
</code></pre></div><h3 ref="43-range" >4.3. range</h3><a class="anchor" id="43-range"></a>
<p>Python っぽい。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">pow</span> = []<span style="color:#66d9ef">int</span>{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">pow</span> { <span style="color:#75715e">// インデックスと値
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%d : %d\n&#34;</span>, <span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">v</span>)
	}
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">pow</span> {   <span style="color:#75715e">// インデックスだけ
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">i</span>)
	}
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">pow</span> { <span style="color:#75715e">// &#34;_&#34;で捨てて値だけ
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">v</span>)
	}
}
</code></pre></div><h2 ref="5-条件分岐" >5. 条件分岐</h2><a class="anchor" id="5-条件分岐"></a>
<h3 ref="51-条件文-if" >5.1. 条件文 if</h3><a class="anchor" id="51-条件文-if"></a>
<p>Go 言語の <code>if</code> ステートメントは、 <code>for</code> ループと同様に、括弧 <code>( )</code> は不要で、中括弧 <code>{ }</code> は必要。<br>
また、 <code>if</code> ステートメントは、 <code>for</code> のように、条件の前に、評価するための簡単なステートメントを書くことができる。<br>
ここで宣言された変数は、 if のスコープ内だけで有効。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;math&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">pow</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">n</span>, <span style="color:#a6e22e">lim</span> <span style="color:#66d9ef">float64</span>) <span style="color:#66d9ef">float64</span> {
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Pow</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">n</span>); <span style="color:#a6e22e">v</span> &lt; <span style="color:#a6e22e">lim</span> { <span style="color:#75715e">// ここ注目
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">v</span>
	}
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">lim</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(
		<span style="color:#a6e22e">pow</span>(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">10</span>),
		<span style="color:#a6e22e">pow</span>(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">20</span>),
	)
}
</code></pre></div><p><code>if</code> ステートメントで宣言された変数は、 <code>else</code> ブロック内でも使うことができる。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;math&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">pow</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">n</span>, <span style="color:#a6e22e">lim</span> <span style="color:#66d9ef">float64</span>) <span style="color:#66d9ef">float64</span> {
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Pow</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">n</span>); <span style="color:#a6e22e">v</span> &lt; <span style="color:#a6e22e">lim</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">v</span>
	} <span style="color:#66d9ef">else</span> {
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%g &gt;= %g\n&#34;</span>, <span style="color:#a6e22e">v</span>, <span style="color:#a6e22e">lim</span>) <span style="color:#75715e">// v を参照できる
</span><span style="color:#75715e"></span>	}
	<span style="color:#75715e">// can&#39;t use v here, though
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">lim</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(
		<span style="color:#a6e22e">pow</span>(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">10</span>),
		<span style="color:#a6e22e">pow</span>(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">20</span>),
	)
}
</code></pre></div><h3 ref="52-switch-文" >5.2. switch 文</h3><a class="anchor" id="52-switch-文"></a>
<p>Go の <code>switch</code> は C や C++、Java、JavaScript、PHP の <code>switch</code> と似ているが、 Go では選択された <code>case</code> だけを実行してそれに続く全ての <code>case</code> は実行されない。<br>
これらの言語の各 <code>case</code> の最後に必要な <code>break</code> ステートメントが Go では <strong>自動的に提供される</strong> 。<br>
もう一つの重要な違いは Go の <code>switch</code> の <code>case</code> は定数である必要はなく、 関係する値は整数である必要はない。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;runtime&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Print</span>(<span style="color:#e6db74">&#34;Go runs on &#34;</span>)
	<span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">os</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">runtime</span>.<span style="color:#a6e22e">GOOS</span>; <span style="color:#a6e22e">os</span> {
	<span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;darwin&#34;</span>:
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;OS X.&#34;</span>)
	<span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;linux&#34;</span>:
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Linux.&#34;</span>)
	<span style="color:#66d9ef">default</span>:
		<span style="color:#75715e">// freebsd, openbsd,
</span><span style="color:#75715e"></span>		<span style="color:#75715e">// plan9, windows...
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%s.&#34;</span>, <span style="color:#a6e22e">os</span>)
	}
}
</code></pre></div><h2 ref="6-配列とスライス" >6. 配列とスライス</h2><a class="anchor" id="6-配列とスライス"></a>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> [<span style="color:#ae81ff">2</span>]<span style="color:#66d9ef">string</span> <span style="color:#75715e">// 配列
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">a</span>[<span style="color:#ae81ff">0</span>] = <span style="color:#e6db74">&#34;Hello&#34;</span>
	<span style="color:#a6e22e">a</span>[<span style="color:#ae81ff">1</span>] = <span style="color:#e6db74">&#34;World&#34;</span>
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">a</span>[<span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">a</span>[<span style="color:#ae81ff">1</span>]) <span style="color:#75715e">// Hello World
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">a</span>)          <span style="color:#75715e">// [Hello World]
</span><span style="color:#75715e"></span>
	<span style="color:#a6e22e">primes</span> <span style="color:#f92672">:=</span> [<span style="color:#ae81ff">6</span>]<span style="color:#66d9ef">int</span>{<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">13</span>} <span style="color:#75715e">// 配列の値付き宣言
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">primes</span>)                  <span style="color:#75715e">// [2 3 5 7 11 13]
</span><span style="color:#75715e"></span>	
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> []<span style="color:#66d9ef">int</span> = <span style="color:#a6e22e">primes</span>[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">4</span>] <span style="color:#75715e">// スライス
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s</span>)            <span style="color:#75715e">// [3 5 7]
</span><span style="color:#75715e"></span>	
	<span style="color:#a6e22e">q</span> <span style="color:#f92672">:=</span> []<span style="color:#66d9ef">int</span>{<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">13</span>} <span style="color:#75715e">// スライスの値付き宣言
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">q</span>)                 <span style="color:#75715e">// [2 3 5 7 11 13]
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">q</span>[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>])            <span style="color:#75715e">// Python のスライスっぽくアクセスできる：[3 5]
</span><span style="color:#75715e"></span>	
	<span style="color:#75715e">// 構造体のスライス
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">ss</span> <span style="color:#f92672">:=</span> []<span style="color:#66d9ef">struct</span> {
		<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>
		<span style="color:#a6e22e">b</span> <span style="color:#66d9ef">bool</span>
	}{
		{<span style="color:#ae81ff">2</span>, <span style="color:#66d9ef">true</span>},
		{<span style="color:#ae81ff">3</span>, <span style="color:#66d9ef">false</span>},
		{<span style="color:#ae81ff">5</span>, <span style="color:#66d9ef">true</span>},
		{<span style="color:#ae81ff">7</span>, <span style="color:#66d9ef">true</span>},
		{<span style="color:#ae81ff">11</span>, <span style="color:#66d9ef">false</span>},
		{<span style="color:#ae81ff">13</span>, <span style="color:#66d9ef">true</span>},
	}
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">ss</span>) <span style="color:#75715e">// [{2 true} {3 false} {5 true} {7 true} {11 false} {13 true}]
</span><span style="color:#75715e"></span>}
</code></pre></div><p>多次元配列・スライスも作成可能。<br>
また、スライスは要素の追加（ <code>s = append(s, 0)</code> 、複数 <code>s = append(s, 2, 3, 4)</code> ）が可能。</p>
<h2 ref="61-make-と-new" >6.1. make と new</h2><a class="anchor" id="61-make-と-new"></a>
<p>変数の作成に用いる <code>make</code> と <code>new</code> の違いは以下の通り。</p>
<ul>
<li><code>make(T)</code>
<ul>
<li>対象の型：<code>slice</code> 、 <code>map</code> 、 <code>channel</code></li>
<li>初期化：初期化する</li>
<li>返り値： <code>T</code> （値）</li>
</ul>
</li>
<li><code>new(T)</code>
<ul>
<li>対象の型：任意の型</li>
<li>初期化：初期化しない(ゼロ値になる)</li>
<li>返り値： <code>*T</code> （ポインタ）</li>
</ul>
</li>
</ul>
<p><code>make</code> は <code>list := make([]int, len, cap)</code> のようにサイズを指定できる。<br>
<code>len</code> は長さでゼロ値が存在する値の場合は実態を作成。 <code>cap</code> （省略可）はメモリだけ確保し、各要素の実態作成は行われない。<br>
なお、 <strong>多次元で作成する場合は注意</strong> が必要。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">2</span> <span style="color:#a6e22e">次元スライス</span><span style="color:#960050;background-color:#1e0010">（</span><span style="color:#ae81ff">2</span><span style="color:#a6e22e">x2</span><span style="color:#960050;background-color:#1e0010">）</span><span style="color:#a6e22e">を作成する場合</span>
<span style="color:#a6e22e">list</span> <span style="color:#f92672">:=</span> make([][]<span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">2</span>)
<span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#a6e22e">上記で</span> [][]<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">は作成しても</span> []<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">は作成されていない</span><span style="color:#960050;background-color:#1e0010">！</span>
<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#ae81ff">2</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
	<span style="color:#a6e22e">list</span>[<span style="color:#a6e22e">i</span>] = make([]<span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">2</span>)
}
</code></pre></div><h2 ref="7-map" >7. map</h2><a class="anchor" id="7-map"></a>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">vertex</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">m</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">vertex</span>     <span style="color:#75715e">// mapの宣言
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">m</span> = make(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">vertex</span>) <span style="color:#75715e">// mapはmakeで作る
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">m</span>[<span style="color:#e6db74">&#34;hoge&#34;</span>] = <span style="color:#a6e22e">vertex</span>{
		<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>,
	}
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">m</span>[<span style="color:#e6db74">&#34;hoge&#34;</span>]) <span style="color:#75715e">// {1 2}
</span><span style="color:#75715e"></span>	
	<span style="color:#a6e22e">mm</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">vertex</span>{ <span style="color:#75715e">// 値付きで宣言
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;hoge&#34;</span>: {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>},
		<span style="color:#e6db74">&#34;fuge&#34;</span>: {<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>},
	}
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">mm</span>[<span style="color:#e6db74">&#34;fuge&#34;</span>]) <span style="color:#75715e">// {3 4}
</span><span style="color:#75715e"></span>	
	delete(<span style="color:#a6e22e">mm</span>, <span style="color:#e6db74">&#34;fuge&#34;</span>)        <span style="color:#75715e">// 要素の削除
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">v</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">mm</span>[<span style="color:#e6db74">&#34;fuge&#34;</span>]       <span style="color:#75715e">// 要素の存在を確認
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">v</span>, <span style="color:#a6e22e">ok</span>)        <span style="color:#75715e">// {0 0} false
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">mm</span>[<span style="color:#e6db74">&#34;fuge&#34;</span>] = <span style="color:#a6e22e">vertex</span>{<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>} <span style="color:#75715e">// 要素の追加
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">v</span>, <span style="color:#a6e22e">ok</span> = <span style="color:#a6e22e">mm</span>[<span style="color:#e6db74">&#34;fuge&#34;</span>]
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">v</span>, <span style="color:#a6e22e">ok</span>)        <span style="color:#75715e">// {3 4} true
</span><span style="color:#75715e"></span>}
</code></pre></div><h2 ref="8-ポインタ" >8. ポインタ</h2><a class="anchor" id="8-ポインタ"></a>
<p>Go では <strong>ポインタ</strong> （値が格納されているメモリのアドレス）を扱える。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">10</span>

	<span style="color:#a6e22e">p</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">i</span>         <span style="color:#75715e">// i のポインタ
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">p</span>)  <span style="color:#75715e">// i が格納されてるメモリのアドレス：0x416020
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#f92672">*</span><span style="color:#a6e22e">p</span>) <span style="color:#75715e">// ポインタ経由で i の値にアクセス：10
</span><span style="color:#75715e"></span>	<span style="color:#f92672">*</span><span style="color:#a6e22e">p</span> = <span style="color:#ae81ff">20</span>         <span style="color:#75715e">// ポインタ経由で i の値を変更
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">i</span>)  <span style="color:#75715e">// もちろん i から参照しても値は変わってる：20
</span><span style="color:#75715e"></span>}
</code></pre></div><h2 ref="9-構造体" >9. 構造体</h2><a class="anchor" id="9-構造体"></a>
<p><code>type</code> で作成する。<br>
<code>type</code> 自体は <code>struct</code> 専用ではなく、独自の型を定義できるもの。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">vertex</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">x</span> <span style="color:#66d9ef">int</span> <span style="color:#75715e">// var 不要
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">vertex</span>{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>} <span style="color:#75715e">// vertex{x:1, y:2} でフィールド明記もできる
</span><span style="color:#75715e"></span>
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">v</span>)   <span style="color:#75715e">// {1 2}
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">x</span>) <span style="color:#75715e">// ドットでフィールドアクセス：1
</span><span style="color:#75715e"></span>	
	<span style="color:#a6e22e">pv</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">v</span>           <span style="color:#75715e">// v のポインタ
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">p</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">vertex</span>{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>} <span style="color:#75715e">// いきなりポインタで作成も可能
</span><span style="color:#75715e"></span>	
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>((<span style="color:#f92672">*</span><span style="color:#a6e22e">pv</span>).<span style="color:#a6e22e">y</span>)<span style="color:#75715e">// 2
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">y</span>) <span style="color:#75715e">// * を省略してもコンパイラが良しなに解釈してくれる：2
</span><span style="color:#75715e"></span>}
</code></pre></div><h2 ref="10-インターフェース" >10. インターフェース</h2><a class="anchor" id="10-インターフェース"></a>
<p><strong>インタフェース</strong> は、メソッドのシグニチャの集まりを定義する。<br>
何も定義していないもの <code>interface{}</code> 型は <strong>空のインターフェース</strong> といい、任意の値を保持できる。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">vertex</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>
}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">v</span> <span style="color:#a6e22e">vertex</span>) <span style="color:#a6e22e">add</span>() <span style="color:#66d9ef">int</span> {
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">y</span>
}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">v</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">vertex</span>) <span style="color:#a6e22e">sub</span>() <span style="color:#66d9ef">int</span> {
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">x</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">y</span>
}

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">adder</span> <span style="color:#66d9ef">interface</span> {
	<span style="color:#a6e22e">add</span>() <span style="color:#66d9ef">int</span>
}

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">suber</span> <span style="color:#66d9ef">interface</span> {
	<span style="color:#a6e22e">sub</span>() <span style="color:#66d9ef">int</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#a6e22e">adder</span>
	<span style="color:#a6e22e">v1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">vertex</span>{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>}

	<span style="color:#a6e22e">a</span> = <span style="color:#a6e22e">v1</span>
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">add</span>()) <span style="color:#75715e">// 3
</span><span style="color:#75715e"></span>	
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#a6e22e">suber</span>
	<span style="color:#a6e22e">v2</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">vertex</span>{<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>}
	
	<span style="color:#a6e22e">s</span> = <span style="color:#a6e22e">v2</span>
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">sub</span>()) <span style="color:#75715e">// -1
</span><span style="color:#75715e"></span>	
	<span style="color:#a6e22e">s</span> = <span style="color:#a6e22e">v1</span> <span style="color:#75715e">// コンパイルエラーになる、sub() は vertex のメソッドではなく *vertex のメソッドなので、「s = &amp;v1」ならOK
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">sub</span>())
	
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n</span> <span style="color:#66d9ef">interface</span>{}              <span style="color:#75715e">// 空のインターフェース
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">n</span> = <span style="color:#a6e22e">v1</span>                         <span style="color:#75715e">// 空のインターフェースは任意の値を保持できる
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;(%v, %T)\n&#34;</span>, <span style="color:#a6e22e">n</span>, <span style="color:#a6e22e">n</span>) <span style="color:#75715e">// ({1 2}, main.vertex)
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">n</span> = <span style="color:#a6e22e">v2</span>                         <span style="color:#75715e">// 空のインターフェースは任意の値を保持できる
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;(%v, %T)\n&#34;</span>, <span style="color:#a6e22e">n</span>, <span style="color:#a6e22e">n</span>) <span style="color:#75715e">// (&amp;{3 4}, *main.vertex)
</span><span style="color:#75715e"></span>}
</code></pre></div><p>標準ライブラリには <a href="https://go-tour-jp.appspot.com/methods/17"><strong>Stringer</strong> インターフェース</a>があり、 <code>String()</code> メソッドが定義されている。<br>
例えば、 <code>fmt</code> に <code>String()</code> メソッドを実装したオブジェクトを渡すと、その定義通りに標準出力してくれる。<br>
他にも以下の様なものがある。</p>
<ul>
<li><a href="https://go-tour-jp.appspot.com/methods/19">error インターフェース</a></li>
<li><a href="https://go-tour-jp.appspot.com/methods/21">Reader インターフェース</a></li>
<li><a href="https://go-tour-jp.appspot.com/methods/24">Image インターフェース</a></li>
</ul>
<h2 ref="11-型" >11. 型</h2><a class="anchor" id="11-型"></a>
<h3 ref="111-型定義" >11.1. 型定義</h3><a class="anchor" id="111-型定義"></a>
<p><code>type</code> で作成する。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">識別子</span> <span style="color:#a6e22e">型</span>
</code></pre></div><p>「識別子」は，ここで宣言する型の名前、「型」は，型名または型リテラル。（ ex. <code>type Hex int</code> ）<br>
構造体やインターフェースも型定義しているのと同じ。<br>
型リテラルは以下のような型をリテラルで書いたもの。（リテラル ＝ ソースコードの中に直接書きこんである文字とか数字とかのこと）</p>
<table>
<thead>
<tr>
<th>型リテラル</th>
<th>型 Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>[]int</td>
<td>スライス型 SliceType</td>
</tr>
<tr>
<td>[10]int</td>
<td>配列型 ArrayType</td>
</tr>
<tr>
<td>*int</td>
<td>ポインタ型 PointerType</td>
</tr>
<tr>
<td>map[Key]Value</td>
<td>マップ型 MapType</td>
</tr>
<tr>
<td>interface {SomeMethod()}<!-- raw HTML omitted -->interface {}</td>
<td>インターフェース型 InterfaceType</td>
</tr>
<tr>
<td>struct {ID int}</td>
<td>構造体型 StructType</td>
</tr>
<tr>
<td>func(s string) int</td>
<td>関数型 FunctionType</td>
</tr>
<tr>
<td>chan int</td>
<td>チャネル型 ChannelType</td>
</tr>
</tbody>
</table>
<p>なお、型リテラルは「定義された型（defined type）」ではないので、コンバート・キャスト（ <code>t := T(x)</code> ）することはできない。<br>
基本型や <code>type</code> で定義した型は「定義された型（defined type）」なので、コンバート・キャストすることができる。</p>
<h3 ref="112-メソッド" >11.2. メソッド</h3><a class="anchor" id="112-メソッド"></a>
<p>Go には <strong>class</strong> は無いが、<strong>型に対してメソッドを定義</strong> できる。<br>
構造体だけにメソッド定義できるのではなく、型に対して定義できることに注意。<br>
Go ではメソッドを定義する型を <strong>レシーバ</strong> と呼び、 <strong>値レシーバ</strong> と <strong>ポインタレシーバ</strong> がある。<br>
レシーバは <code>func</code> と関数名の間に定義する。</p>
<ul>
<li>値レシーバ
<ul>
<li><code>(r Type)</code></li>
<li>メソッド呼び出しの度に <code>r</code> （値）が作成されるのでメモリ多用に注意</li>
<li>基本的にはポインタレシーバを使ってればいい。</li>
</ul>
</li>
<li>ポインタレシーバ
<ul>
<li><code>(r *Type)</code></li>
<li>値レシーバと異なり、メソッド呼び出しの度に値は作成されない（ポインタなので）</li>
<li>ただし、 <code>nil</code> には注意（オブジェクト化されてなくても呼べちゃう）</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
)

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">user</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">name</span>  <span style="color:#66d9ef">string</span>
	<span style="color:#a6e22e">score</span> <span style="color:#66d9ef">int</span>
}

<span style="color:#75715e">// ポインタレシーバ
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">u</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">user</span>) <span style="color:#a6e22e">hit</span>() {
	<span style="color:#a6e22e">u</span>.<span style="color:#a6e22e">score</span><span style="color:#f92672">++</span>
}

<span style="color:#75715e">// 参照渡しでないと
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">u</span> <span style="color:#a6e22e">user</span>) <span style="color:#a6e22e">hit2</span>() {
	<span style="color:#a6e22e">u</span>.<span style="color:#a6e22e">score</span><span style="color:#f92672">++</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">u1</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">user</span>{<span style="color:#a6e22e">name</span>: <span style="color:#e6db74">&#34;pepese&#34;</span>, <span style="color:#a6e22e">score</span>: <span style="color:#ae81ff">100</span>}
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">u1</span>) <span style="color:#75715e">// &amp;{pepese 100}
</span><span style="color:#75715e"></span>
	<span style="color:#a6e22e">u1</span>.<span style="color:#a6e22e">hit</span>()
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">u1</span>.<span style="color:#a6e22e">score</span>) <span style="color:#75715e">// カウントアップされてる：101
</span><span style="color:#75715e"></span>
	<span style="color:#a6e22e">u1</span>.<span style="color:#a6e22e">hit2</span>()
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">u1</span>.<span style="color:#a6e22e">score</span>) <span style="color:#75715e">// カウントアップされてない：101 （102になると思った？）
</span><span style="color:#75715e"></span>	<span style="color:#75715e">/*
</span><span style="color:#75715e">		hit2 はメソッド実行時に u1 のコピーが作成され、その値に対して処理が行われている。
</span><span style="color:#75715e">		なので、u1 のコピーに処理が行われているのであった、u1 に対しては処理は行われていない。
</span><span style="color:#75715e">	*/</span>
}
</code></pre></div><h3 ref="113-型アサーション" >11.3. 型アサーション</h3><a class="anchor" id="113-型アサーション"></a>
<p><code>インターフェース.(型)</code> で型を確認できる。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#66d9ef">interface</span>{} = <span style="color:#e6db74">&#34;hello&#34;</span>

	<span style="color:#a6e22e">s</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">i</span>.(<span style="color:#66d9ef">string</span>) <span style="color:#75715e">// string 型で空のインターフェースから値を取得する
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s</span>)  <span style="color:#75715e">// hello
</span><span style="color:#75715e"></span>
	<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">i</span>.(<span style="color:#66d9ef">string</span>) <span style="color:#75715e">// 第2引数で string 型かどうかチェックできる
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">ok</span>)  <span style="color:#75715e">// hello true
</span><span style="color:#75715e"></span>
	<span style="color:#a6e22e">f</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">i</span>.(<span style="color:#66d9ef">float64</span>) <span style="color:#75715e">// 型が異なる場合は false
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">f</span>, <span style="color:#a6e22e">ok</span>)   <span style="color:#75715e">// 0 false
</span><span style="color:#75715e"></span>
	<span style="color:#a6e22e">f</span> = <span style="color:#a6e22e">i</span>.(<span style="color:#66d9ef">float64</span>) <span style="color:#75715e">// 型が異なるのに第2引数が無いと panic する
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">f</span>)
}
</code></pre></div><h3 ref="114-型-switch" >11.4. 型 switch</h3><a class="anchor" id="114-型-switch"></a>
<p><code>インターフェース.(type)</code> で型が取得でき、型に応じて switch できる。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">do</span>(<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">interface</span>{}) {
	<span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">i</span>.(<span style="color:#66d9ef">type</span>) {
	<span style="color:#66d9ef">case</span> <span style="color:#66d9ef">int</span>:
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;int: %v\n&#34;</span>, <span style="color:#a6e22e">v</span>)
	<span style="color:#66d9ef">case</span> <span style="color:#66d9ef">string</span>:
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;string: %v\n&#34;</span>, <span style="color:#a6e22e">v</span>)
	<span style="color:#66d9ef">default</span>:
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;unknown type: %T\n&#34;</span>, <span style="color:#a6e22e">v</span>)
	}
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">do</span>(<span style="color:#ae81ff">21</span>)      <span style="color:#75715e">// int: 21
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">do</span>(<span style="color:#e6db74">&#34;hello&#34;</span>) <span style="color:#75715e">// string: hello
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">do</span>(<span style="color:#66d9ef">true</span>)    <span style="color:#75715e">// unknown type: bool
</span><span style="color:#75715e"></span>}
</code></pre></div><h2 ref="12-並列処理" >12. 並列処理</h2><a class="anchor" id="12-並列処理"></a>
<h3 ref="121-goroutine" >12.1. goroutine</h3><a class="anchor" id="121-goroutine"></a>
<p><strong>goroutine</strong> （ゴルーチン）は Go ランタイムが管理する軽量スレッド。<br>
OS が管理するスレッドではなく、 Go ランタイムなのがポイント。<br>
関数の前に <code>go</code> と記載すれば新しい goroutine 上でその関数が実行される。<br>
main 関数自体も goroutine で実行されており、 <code>go</code> キーワードで実行する関数自体はメイン goroutine 上で評価される。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;time&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">say</span>(<span style="color:#a6e22e">s</span> <span style="color:#66d9ef">string</span>) {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s</span>)
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#75715e">// goroutine 実行
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">go</span> <span style="color:#a6e22e">say</span>(<span style="color:#e6db74">&#34;hello&#34;</span>)
	
	<span style="color:#75715e">// 関数であれば実行できるので、即時関数でもよい
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">go</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">s</span> <span style="color:#66d9ef">string</span>) {
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s</span>)
	}(<span style="color:#e6db74">&#34;world&#34;</span>)
	
	<span style="color:#75715e">// 上記の goroutine が実行される前にメイン goroutine が終了するためスリープ
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Sleep</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">*</span><span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>)
}
</code></pre></div><h3 ref="122-チャネル-channel-" >12.2. チャネル（ channel ）</h3><a class="anchor" id="122-チャネル-channel-"></a>
<p>Go では <strong>チャネル</strong> （ <strong>channel</strong> ）を用いて goroutine 間のデータの送受信およびブロックを実現する。<br>
チャネルは <code>make</code> で作成（ <code>c := make(chan int)</code> ）し、送受信するデータの型を指定する。<br>
また、データの送信（ <code>c &lt;- 0</code> 入れる）・受信（ <code>&lt;-c</code> 取り出す）はアロー（？）で表現する。 <strong>キュー</strong> みたいなものだ。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">string</span>) <span style="color:#75715e">// チャネルの作成
</span><span style="color:#75715e"></span>
	<span style="color:#66d9ef">go</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">c</span> <span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">string</span>) {
		<span style="color:#a6e22e">c</span> <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;hello world&#34;</span>
	}(<span style="color:#a6e22e">c</span>)
	
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">c</span>) <span style="color:#75715e">// チャネルに値が入って読みだせるまでメイン goroutine はブロックされる
</span><span style="color:#75715e"></span>}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">c</span> <span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>) {
	<span style="color:#a6e22e">c</span> <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">y</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>) <span style="color:#75715e">// チャネルの作成
</span><span style="color:#75715e"></span>
	<span style="color:#a6e22e">nums</span> <span style="color:#f92672">:=</span> [<span style="color:#ae81ff">4</span>]<span style="color:#66d9ef">int</span>{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>}
	<span style="color:#66d9ef">go</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">nums</span>[<span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">nums</span>[<span style="color:#ae81ff">1</span>]) <span style="color:#75715e">// 足し算のお仕事を goroutine で分割
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">go</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">nums</span>[<span style="color:#ae81ff">2</span>], <span style="color:#a6e22e">nums</span>[<span style="color:#ae81ff">3</span>])
	
	<span style="color:#a6e22e">r1</span>, <span style="color:#a6e22e">r2</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">c</span>, <span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">c</span>
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">r1</span>, <span style="color:#a6e22e">r2</span>) <span style="color:#75715e">// 7 3
</span><span style="color:#75715e"></span>	<span style="color:#75715e">// 終わった方から先に入るので順番に保証は無い
</span><span style="color:#75715e"></span>}
</code></pre></div><p>チャネルには <strong>バッファ</strong> （チャネルに入るデータの数） を定義でき、 <strong>バッファがいっぱいのときはチャネルへの送信をブロック</strong> し、 <strong>バッファが空の時はチャネルの受信をブロック</strong> する。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">ch</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">2</span>) <span style="color:#75715e">// バッファサイズ 2 のチャネル
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">ch</span> <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">1</span>
	<span style="color:#a6e22e">ch</span> <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">2</span>
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">ch</span>)
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">ch</span>)
}
</code></pre></div><p>チャネルは閉じる（ <strong><code>close()</code></strong> ）ことができ、以下のように検知可能。</p>
<ul>
<li><code>v, ok := &lt;-ch</code>
<ul>
<li><code>ok</code> が <code>false</code> の場合チャネルが閉じている</li>
</ul>
</li>
<li><code>for i := range c</code>
<ul>
<li>チャネルが閉じられるまで値を繰り返し受信する</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">count</span>(<span style="color:#a6e22e">n</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">c</span> <span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>) {
	<span style="color:#a6e22e">x</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#a6e22e">n</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
		<span style="color:#a6e22e">x</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
		<span style="color:#a6e22e">c</span> <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">x</span>
	}
	close(<span style="color:#a6e22e">c</span>) <span style="color:#75715e">// チャネルを閉じる
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">10</span>)
	<span style="color:#66d9ef">go</span> <span style="color:#a6e22e">count</span>(cap(<span style="color:#a6e22e">c</span>), <span style="color:#a6e22e">c</span>)
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">c</span> { <span style="color:#75715e">// チャネルが閉じられるまでループ＆ブロック
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Print</span>(<span style="color:#a6e22e">i</span>, <span style="color:#e6db74">&#34; &#34;</span>)
	} <span style="color:#75715e">// 1 2 3 4 5 6 7 8 9 10
</span><span style="color:#75715e"></span>}
</code></pre></div><p><strong><code>select</code></strong> を使用することで複数のチャネルを評価できる。<br>
複数ある <code>case</code> のいずれかが準備できるようになるまでブロックし、準備ができた <code>case</code> を実行する。<br>
もし、複数の <code>case</code> の準備ができている場合、 <code>case</code> は <strong>ランダムに選択・実行</strong> される。<br>
どの <code>case</code> も準備できていない場合は <code>default</code> が実行される。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;time&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">count</span>(<span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">quit</span> <span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>) {
	<span style="color:#a6e22e">x</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
	<span style="color:#66d9ef">for</span> {
		<span style="color:#66d9ef">select</span> { <span style="color:#75715e">// どちらかの case が for 内で評価され続ける
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">case</span> <span style="color:#a6e22e">c</span> <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">x</span>:
			<span style="color:#a6e22e">x</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
		<span style="color:#66d9ef">case</span> <span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">quit</span>:
			<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;quit&#34;</span>)
			<span style="color:#66d9ef">return</span>
		<span style="color:#66d9ef">default</span>:
			<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;wait&#34;</span>)
			<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Sleep</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">*</span><span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>)
		}
	}
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">quit</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>), make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>)
	<span style="color:#66d9ef">go</span> <span style="color:#66d9ef">func</span>() {
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#ae81ff">5</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
			<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Print</span>(<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">c</span>, <span style="color:#e6db74">&#34; &#34;</span>)
		}
		<span style="color:#a6e22e">quit</span> <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">0</span>
	}()
	<span style="color:#a6e22e">count</span>(<span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">quit</span>)
}
<span style="color:#75715e">// wait
</span><span style="color:#75715e">// wait
</span><span style="color:#75715e">// 0 wait
</span><span style="color:#75715e">// 1 wait
</span><span style="color:#75715e">// 2 wait
</span><span style="color:#75715e">// 3 wait
</span><span style="color:#75715e">// 4 quit
</span></code></pre></div><h3 ref="123-syncmutex" >12.3. sync.Mutex</h3><a class="anchor" id="123-syncmutex"></a>
<p>チャネルは goroutine 間でデータの送受信とブロックを実現するものだが、データ送受信が不要な場合は <strong>sync.Mutex</strong> （排他制御・ミューテックス： mutual exclusion の略）を利用する。<br>
所謂ロック機構（ <code>Lock</code> <code>Unlock</code> ）の機能を提供し、 <strong>クリティカルセッション</strong> （他の処理の介入抑止し、データの生合成を守る必要のある一連の一まとまりの処理）を保護する。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;sync&#34;</span>
	<span style="color:#e6db74">&#34;time&#34;</span>
)

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">counter</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">num</span> <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">mux</span> <span style="color:#a6e22e">sync</span>.<span style="color:#a6e22e">Mutex</span>
}

<span style="color:#75715e">// クリティカルセッション
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">counter</span>) <span style="color:#a6e22e">countup</span>(<span style="color:#a6e22e">roop</span> <span style="color:#66d9ef">int</span>) {
	<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">mux</span>.<span style="color:#a6e22e">Lock</span>()
	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">mux</span>.<span style="color:#a6e22e">Unlock</span>() <span style="color:#75715e">// deferの利用、ほぼクリティカルセッションの構文
</span><span style="color:#75715e"></span>	
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span><span style="color:#f92672">:=</span><span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span>&lt;<span style="color:#a6e22e">roop</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
		<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">num</span><span style="color:#f92672">++</span>
	}
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">num</span>)
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">counter</span>{<span style="color:#a6e22e">num</span>: <span style="color:#ae81ff">0</span>}
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#ae81ff">5</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
		<span style="color:#66d9ef">go</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">countup</span>(<span style="color:#ae81ff">10</span>)
	}

	<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Sleep</span>(<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>)
}
</code></pre></div><p>上記はロック機構によりきちんと 10 単位でカウントアップ・表示されている。</p>
<h2 ref="13-埋め込み" >13. 埋め込み</h2><a class="anchor" id="13-埋め込み"></a>
<p>構造体・インターフェースは以下の関係の通り、埋め込み(embedding)が可能。</p>
<ol>
<li>インターフェースに　インターフェースを　<strong>埋め込み可能</strong></li>
<li>インターフェースに　構造体を　　　　　　埋め込み不可能</li>
<li>構造体に　　　　　　インターフェースを　<strong>埋め込み可能</strong></li>
<li>構造体に　　　　　　構造体を　　　　　　<strong>埋め込み可能</strong></li>
</ol>
<p>インターフェースにはシグネチャ（メソッドの定義）を与えるものなので、インターフェースに具体的な構造体を埋め込むことはできない。<br>
インターフェースにインターフェースを埋め込むサンプルコードは以下。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
    <span style="color:#e6db74">&#34;fmt&#34;</span>
)

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Flyer</span> <span style="color:#66d9ef">interface</span> {
    <span style="color:#a6e22e">Fly</span>() <span style="color:#66d9ef">string</span>
}

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Runner</span> <span style="color:#66d9ef">interface</span> {
    <span style="color:#a6e22e">Run</span>() <span style="color:#66d9ef">string</span>
}

<span style="color:#75715e">// 1. インターフェースにインターフェースを埋め込む
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">FlyingRunner</span> <span style="color:#66d9ef">interface</span> {
    <span style="color:#a6e22e">Flyer</span>
    <span style="color:#a6e22e">Runner</span>
}

<span style="color:#75715e">// 3. 構造体にインターフェースを埋め込む
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ToriJin</span> <span style="color:#66d9ef">struct</span> { <span style="color:#75715e">// 鳥人
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">FlyingRunner</span>
}

<span style="color:#75715e">// 4. 構造体に構造体を埋め込む
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ShinJinrui</span> <span style="color:#66d9ef">struct</span> { <span style="color:#75715e">// 新人類
</span><span style="color:#75715e"></span>    <span style="color:#f92672">*</span><span style="color:#a6e22e">ToriJin</span>
}

<span style="color:#75715e">// FlyingRunnerインターフェースを実装する型
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">RealToriJin</span> <span style="color:#66d9ef">struct</span>{}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">r</span> <span style="color:#a6e22e">RealToriJin</span>) <span style="color:#a6e22e">Fly</span>() <span style="color:#66d9ef">string</span> { <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Fly!&#34;</span> }

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">r</span> <span style="color:#a6e22e">RealToriJin</span>) <span style="color:#a6e22e">Run</span>() <span style="color:#66d9ef">string</span> { <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Run!&#34;</span> }

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#a6e22e">aRealToriJin</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">RealToriJin</span>{}
    <span style="color:#75715e">// 3. 構造体 ToriJin にインターフェース FlyingRunner を
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 実装している RealToriJin の変数を埋め込む
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">aToriJin</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">ToriJin</span>{
        <span style="color:#a6e22e">FlyingRunner</span>: <span style="color:#a6e22e">aRealToriJin</span>,
    }
    <span style="color:#75715e">// 4. 構造体 ShinJinrui に構造体 Torijin の変数を埋め込む
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">aShinJinrui</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">ShinJinrui</span>{
        <span style="color:#a6e22e">ToriJin</span>: <span style="color:#a6e22e">aToriJin</span>,
    }
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">aShinJinrui</span>.<span style="color:#a6e22e">Fly</span>()) <span style="color:#75715e">// Fly!
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">aShinJinrui</span>.<span style="color:#a6e22e">Run</span>()) <span style="color:#75715e">// Run!
</span><span style="color:#75715e"></span>}
</code></pre></div><h3 ref="埋め込みのメリット" >埋め込みのメリット</h3><a class="anchor" id="埋め込みのメリット"></a>
<p>埋め込みを行うことによって、わざわざ自身の型でメソッドを実装しなくても <em>借り物</em> のメソッドを使うことができる。（DRY）<br>
以下のサンプルは、<code>ShinJinrui2</code> という構造体が <code>*grasshopper</code> 型の <code>HighJump</code> メソッドをそのまま借りることで <code>HighJumpRunner</code> インターフェースを実装できていることを示している。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">HighJumpRunner</span> <span style="color:#66d9ef">interface</span> {
    <span style="color:#a6e22e">HighJump</span>() <span style="color:#66d9ef">string</span>
    <span style="color:#a6e22e">Run</span>() <span style="color:#66d9ef">string</span>
}

<span style="color:#75715e">// grasshopper はバッタのこと
</span><span style="color:#75715e">// 高く飛ぶ能力がある
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">grasshopper</span> <span style="color:#66d9ef">struct</span>{}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">g</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">grasshopper</span>) <span style="color:#a6e22e">HighJump</span>() <span style="color:#66d9ef">string</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;High Jump!&#34;</span>
}

<span style="color:#75715e">// ShinJinrui2 は*grasshopperの能力を
</span><span style="color:#75715e">// 構造体埋め込み(③)により&#34;そのまま&#34;借りる
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ShinJinrui2</span> <span style="color:#66d9ef">struct</span> { <span style="color:#75715e">// 新人類2
</span><span style="color:#75715e"></span>    <span style="color:#f92672">*</span><span style="color:#a6e22e">grasshopper</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#a6e22e">aGrassHopper</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">grasshopper</span>{}
    <span style="color:#a6e22e">aShinJinrui2</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">ShinJinrui2</span>{
        <span style="color:#a6e22e">grasshopper</span>: <span style="color:#a6e22e">aGrassHopper</span>,
    }
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">interface</span>{}(<span style="color:#a6e22e">aShinJinrui2</span>).(<span style="color:#a6e22e">HighJumpRunner</span>); <span style="color:#a6e22e">ok</span> {
		<span style="color:#75715e">// *grasshopper に Run() が実装されていないので出力されない
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;ShinJinrui2はHighJumpRunnerインターフェースを実装しています。&#34;</span>)
    }
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">aShinJinrui2</span>.<span style="color:#a6e22e">HighJump</span>()) <span style="color:#75715e">// High Jump!
</span><span style="color:#75715e"></span>}
</code></pre></div><p>以下のように埋め込まない(そのまま借りない)場合、型 <code>ShinJinrui2</code> のメソッドとして <code>HighJump</code> を定義し、その中で <code>*grasshopper</code> のものを呼ぶ実装を作る必要がある。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ShinJinrui2</span> <span style="color:#66d9ef">struct</span> { <span style="color:#75715e">// 新人類2
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">ghopper</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">grasshopper</span>
}
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">sj</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">ShinJinrui2</span>) <span style="color:#a6e22e">HighJump</span>() <span style="color:#66d9ef">string</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">sj</span>.<span style="color:#a6e22e">grasshopper</span>.<span style="color:#a6e22e">HighJump</span>()
}
</code></pre></div><h3 ref="埋め込みはサブクラス化継承とは異なる" >埋め込みはサブクラス化・継承とは異なる</h3><a class="anchor" id="埋め込みはサブクラス化継承とは異なる"></a>
<p>埋め込みはあくまでも <em>借りているだけ</em> で埋め込み元のオブジェクトのメソッドとして実行される。<br>
これは埋め込み先の構造体が埋め込み元のメソッドを実行しても埋め込み先オブジェクトには影響を与えないことを意味している。<br>
<em>埋め込み</em> であって <em>継承</em> ではないということ。（そして Go 言語には継承がない。)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
    <span style="color:#e6db74">&#34;fmt&#34;</span>
)

<span style="color:#75715e">// Status は健康状態を意味する
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Status</span> <span style="color:#66d9ef">int</span>

<span style="color:#66d9ef">const</span> (
    <span style="color:#75715e">// Good is 良好 status
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Good</span> <span style="color:#a6e22e">Status</span> = <span style="color:#66d9ef">iota</span>
    <span style="color:#75715e">// Tired is 疲れている status
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Tired</span>
)

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">s</span> <span style="color:#a6e22e">Status</span>) <span style="color:#a6e22e">String</span>() <span style="color:#66d9ef">string</span> {
    <span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">s</span> {
    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">Good</span>:
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Good!&#34;</span>
    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">Tired</span>:
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Tired...&#34;</span>
    <span style="color:#66d9ef">default</span>:
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;&#34;</span>
    }
}

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">poorGrasshopper</span> <span style="color:#66d9ef">struct</span> {
    <span style="color:#a6e22e">status</span> <span style="color:#a6e22e">Status</span> <span style="color:#75715e">// poorGrasshopperには健康状態がある
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">g</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">poorGrasshopper</span>) <span style="color:#a6e22e">HighJump</span>() {
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;High Jump!&#34;</span>)
    <span style="color:#a6e22e">g</span>.<span style="color:#a6e22e">status</span> = <span style="color:#a6e22e">Tired</span> <span style="color:#75715e">// 飛ぶと疲れてしまう
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ShinJinrui3</span> <span style="color:#66d9ef">struct</span> { <span style="color:#75715e">// 新人類3
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">status</span>           <span style="color:#a6e22e">Status</span> <span style="color:#75715e">// ShinJinrui3も健康状態がある
</span><span style="color:#75715e"></span>    <span style="color:#f92672">*</span><span style="color:#a6e22e">poorGrasshopper</span>        <span style="color:#75715e">// 構造体の埋め込み(4.)
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#a6e22e">aPoorGrasshopper</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">poorGrasshopper</span>{
        <span style="color:#a6e22e">status</span>: <span style="color:#a6e22e">Good</span>,
    }
    <span style="color:#a6e22e">aShinJinrui3</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">ShinJinrui3</span>{
        <span style="color:#a6e22e">status</span>:          <span style="color:#a6e22e">Good</span>,
        <span style="color:#a6e22e">poorGrasshopper</span>: <span style="color:#a6e22e">aPoorGrasshopper</span>,
    }
    <span style="color:#a6e22e">aShinJinrui3</span>.<span style="color:#a6e22e">HighJump</span>()
    <span style="color:#75715e">// poorGrasshopperの方はステータスが変わるが
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// メソッドを借りているだけの Shinjirui3 のステータスは影響されない
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;aPoorGrasshopper is&#34;</span>, <span style="color:#a6e22e">aPoorGrasshopper</span>.<span style="color:#a6e22e">status</span>) <span style="color:#75715e">// Tired
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;aShinJinrui3 is&#34;</span>, <span style="color:#a6e22e">aShinJinrui3</span>.<span style="color:#a6e22e">status</span>)         <span style="color:#75715e">// Good
</span><span style="color:#75715e"></span>}
</code></pre></div><h3 ref="埋め込み元と埋め込み先のメソッド名重複時の挙動" >埋め込み元と埋め込み先のメソッド名重複時の挙動</h3><a class="anchor" id="埋め込み元と埋め込み先のメソッド名重複時の挙動"></a>
<p>埋め込み元と埋め込み先に同じ名前のメソッド・フィールド名が存在するとき、コンパイルエラーにはならず埋め込み先のメソッド・フィールドが優先されて呼ばれる。</p>
<h2 ref="参考" >参考</h2><a class="anchor" id="参考"></a>
<ul>
<li><a href="https://go-tour-jp.appspot.com/concurrency/11">Where to Go from here&hellip;</a>
<ul>
<li>この先の学習のヒント</li>
</ul>
</li>
<li><a href="https://www.slideshare.net/takuyaueda967/2016-go">Go入門</a>
<ul>
<li>slideshare</li>
</ul>
</li>
<li><a href="http://blog.amedama.jp/entry/2015/10/06/231038">Mac OS X で Golang に入門してみる</a>
<ul>
<li>Go の文法ではなく、標準の構造がよくわかる</li>
</ul>
</li>
<li><a href="http://blog.nishimu.land/entry/2015/03/16/032222">シュッと golang に入門する話</a>
<ul>
<li>文法がわかる</li>
</ul>
</li>
<li><a href="https://gist.github.com/hayajo/9559874">Go言語入門</a></li>
<li><a href="http://cuto.unirita.co.jp/gostudy/">はじめてのGo言語</a></li>
</ul>
		</div>






	
	

      </section>

      
      
    </article>
    
    
    <footer>
      

		
	
			
		
	    	
	  	
	
    </footer>
    



  </body>
</html>
